{"version":3,"sources":["panels/Home.js","panels/Popular.js","constants.js","panels/Film.js","App.js","index.js","img/banner-1.png"],"names":["itemStyle","flexShrink","width","height","flexDirection","alignItems","fontSize","paddingLeft","imgStyle","borderRadius","nameStyle","marginTop","marginBottom","padding","overflow","display","WebkitLineClamp","WebkitBoxOrient","genre","color","Home","_ref","id","openFilm","activePreview","go","futurePreview","setid","react_default","a","createElement","vkui","slideWidth","style","marginLeft","marginRight","bullets","autoplay","onClick","data-to","src","banner1","paddingBottom","level","aside","map","item","i","data-fid","_id","key","Object","objectSpread","image","size","title","osname","platform","Popular","left","IOS","chevron_back_default","back_default","settings","image_url","server_url","Film","currentFilm","theme","tmdbFullData","poster_path","margin","App","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","setState","activePanel","currentTarget","dataset","to","filmid","fid","fetch","concat","then","res","json","state","_this2","panels_Home","panels_Popular","panels_Film","React","Component","connect","send","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.50e26f1d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, PanelHeader, Header, Link, HorizontalScroll, Avatar, Gallery } from '@vkontakte/vkui';\nimport banner1 from '../img/banner-1.png';\n\n\nconst itemStyle = {\n\tflexShrink: 0,\n\twidth: 130,\n\theight: 'auto',\n\tflexDirection:\n\t'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4\n};\n\nconst imgStyle = {\n\twidth: 110,\n\theight: 150,\n\tborderRadius: 20\n};\n\nconst nameStyle = {\n\twidth: 100,\n\tmarginTop: 0,\n\tmarginBottom: 0,\n\tpadding: 3,\n\toverflow: 'hidden',\n\tdisplay: '-webkit-box',\n\tWebkitLineClamp: 2,\n\tWebkitBoxOrient: 'vertical'\n};\n\nconst genre = {\n\tcolor: \"grey\",\n\tfontSize: 14,\n};\n\nconst Home = ({ id, openFilm, activePreview, go, futurePreview, setid }) => (\n\n\n\t<Panel id={id}>\n\t\t<PanelHeader>Главная</PanelHeader>\n    <Gallery\n      slideWidth=\"100%\"\n      style={{ height: 150, borderRadius: 10, marginLeft: 15, marginRight: 15, marginTop: 15, marginBottom: 15 }}\n      bullets=\"dark\"\n\t\t\tautoplay={3000}\n    >\n\t\t<Link onClick={go} data-to=\"popular\"><img style={{height: 150, width:'100%'}} src={banner1}/></Link>\n    </Gallery>\n\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t<Header level=\"2\" aside={<Link>Показать все</Link>}>\n\t\t\t\t\t\tСейчас в кино\n\t\t\t\t</Header>\n        <HorizontalScroll>\n          <div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tactivePreview &&\n\t\t\t\t\t\t\tactivePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item._id} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t              <img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t<p style={{...nameStyle, ...genre}}>{item.genre}</p>\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t            </Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n          </div>\n        </HorizontalScroll>\n      </Group>\n\n\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"2\" aside={<Link>Показать все</Link>}>\n\t\t\t\t\t\t\tСкоро в кино\n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tfuturePreview &&\n\t\t\t\t\t\t\tfuturePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item._id} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t<p style={{...nameStyle, ...genre}}>{item.genre}</p>\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>\n\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nconst Popular = ({ id, go }) => (\r\n  <Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<HeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</HeaderButton>}\r\n\t\t>\r\n\t\t\tПопулярное\r\n\t\t</PanelHeader>\r\n\t</Panel>\r\n);\r\n\r\nexport default Popular;\r\n","const settings = {\r\n  image_url:  'https://image.tmdb.org/t/p/original',\r\n  server_url: 'https://cinema.voloshinskii.ru'\r\n};\r\n\r\nexport default settings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Button, Header} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport settings from '../constants.js';\r\n\r\nconst osname = platform();\r\n\r\nconst Film = ({ id, go, currentFilm }) => (\r\n  <Panel id={id} theme='white'>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<HeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</HeaderButton>}\r\n\t\t>\r\n\t\t\t{currentFilm && currentFilm.title}\r\n\t\t</PanelHeader>\r\n      {currentFilm &&\r\n      <Group style={{marginTop: 0}}>\r\n        <img src={settings.image_url + currentFilm.tmdbFullData.poster_path} style={{width: '100%'}}/>\r\n      </Group>\r\n      }\r\n\r\n      <Button size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\">Иду на фильм</Button>\r\n\t</Panel>\r\n);\r\n\r\nexport default Film;\r\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Popular from './panels/Popular';\nimport Film from './panels/Film';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tactivePreview: null,\n\t\t\tfuturePreview: null,\n\t\t\tcurrentFilm: null,\n\t\t};\n\t}\n\t\n\tcomponentDidMount() {\n\t\tfetch(`https://cinema.voloshinskii.ru/active/preview`)\n      .then(res => res.json())\n      .then(json => this.setState({ activePreview: json }));\n\n\t\tfetch(`https://cinema.voloshinskii.ru/future/preview`)\n\t    .then(res => res.json())\n\t    .then(json => this.setState({ futurePreview: json }));\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\topenFilm = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to,\n\t\t \t\t\t\t\t\t\t\tfilmid:      e.currentTarget.dataset.fid})\n\n\t\tfetch(`https://cinema.voloshinskii.ru/film/${e.currentTarget.dataset.fid}`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => this.setState({ currentFilm: json }));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t<Home id=\"home\" activePreview={this.state.activePreview} futurePreview={this.state.futurePreview} go={this.go} openFilm={this.openFilm} setid={this.setid} />\n\t\t\t\t<Popular id=\"popular\" go={this.go} />\n\t\t\t\t<Film currentFilm={this.state.currentFilm} id=\"film\" go={this.go} />\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/banner-1.be3b55c6.png\";"],"sourceRoot":""}