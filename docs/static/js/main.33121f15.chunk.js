(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);a(64),a(89);var n=a(0),r=a.n(n),i=a(33),l=a.n(i),c=a(34),o=a.n(c),m=a(57),u=a(58),d=a(61),s=a(59),f=a(62),h=a(1),p=(a(111),a(10)),g=a(60),E=a.n(g),v={flexShrink:0,width:130,height:"auto",flexDirection:"column",alignItems:"center",fontSize:16},y={width:110,height:150,borderRadius:20},w={width:100,marginTop:0,marginBottom:0,padding:3},b={color:"grey",fontSize:14},P=function(e){var t=e.id,a=e.openFilm,n=e.activePreview,i=e.go,l=e.futurePreview;e.setid;return r.a.createElement(h.Panel,{id:t},r.a.createElement(h.PanelHeader,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(h.Gallery,{slideWidth:"100%",style:{height:150,borderRadius:10,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15},bullets:"dark",autoplay:3e3},r.a.createElement(h.Link,{onClick:i,"data-to":"popular"},r.a.createElement("img",{style:{height:150,width:"100%"},src:E.a}))),r.a.createElement(h.Group,{style:{paddingBottom:8}},r.a.createElement(h.Header,{level:"2",aside:r.a.createElement(h.Link,null,"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435")},"\u0421\u0435\u0439\u0447\u0430\u0441 \u0432 \u043a\u0438\u043d\u043e"),r.a.createElement(h.HorizontalScroll,null,r.a.createElement("div",{style:{display:"flex"}},n&&n.map(function(e,t){return r.a.createElement(h.Link,{onClick:a,"data-fid":e._id,"data-to":"film",key:t,style:Object(p.a)({},v,{paddingLeft:12})},r.a.createElement("img",{src:e.image,size:64,style:Object(p.a)({},y,{marginBottom:8})}),r.a.createElement("p",{style:Object(p.a)({},w,b)},e.genre),r.a.createElement("p",{style:w},e.title))})))),r.a.createElement(h.Group,{style:{paddingBottom:8}},r.a.createElement(h.Header,{level:"2",aside:r.a.createElement(h.Link,null,"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435")},"\u0421\u043a\u043e\u0440\u043e \u0432 \u043a\u0438\u043d\u043e"),r.a.createElement(h.HorizontalScroll,null,r.a.createElement("div",{style:{display:"flex"}},l&&l.map(function(e,t){return r.a.createElement(h.Link,{onClick:a,"data-fid":e._id,"data-to":"film",key:t,style:Object(p.a)({},v,{paddingLeft:12})},r.a.createElement("img",{src:e.image,size:64,style:Object(p.a)({},y,{marginBottom:8})}),r.a.createElement("p",{style:Object(p.a)({},w,b)},e.genre),r.a.createElement("p",{style:w},e.title))})))))},k=a(23),j=a.n(k),O=a(18),S=a.n(O),B=Object(h.platform)(),F=function(e){var t=e.id,a=e.go;return r.a.createElement(h.Panel,{id:t},r.a.createElement(h.PanelHeader,{left:r.a.createElement(h.HeaderButton,{onClick:a,"data-to":"home"},B===h.IOS?r.a.createElement(j.a,null):r.a.createElement(S.a,null))},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"))},H=Object(h.platform)(),L=function(e){var t=e.id,a=e.go,n=e.currentFilm;return r.a.createElement(h.Panel,{id:t},r.a.createElement(h.PanelHeader,{left:r.a.createElement(h.HeaderButton,{onClick:a,"data-to":"home"},H===h.IOS?r.a.createElement(j.a,null):r.a.createElement(S.a,null))},n&&n.title),n&&r.a.createElement(h.Group,null,r.a.createElement("img",{src:n.image,style:{width:200}})),r.a.createElement(h.Button,{size:"xl",style:{width:"90%",margin:"auto"},level:"secondary"},"\u0418\u0434\u0443 \u043d\u0430 \u0444\u0438\u043b\u044c\u043c"))},x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.openFilm=function(e){a.setState({activePanel:e.currentTarget.dataset.to,filmid:e.currentTarget.dataset.fid}),fetch("http://84.201.156.99:1420/film/".concat(e.currentTarget.dataset.fid)).then(function(e){return e.json()}).then(function(e){return a.setState({currentFilm:e[0]})})},a.state={activePanel:"home",activePreview:null,futurePreview:null,currentFilm:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://84.201.156.99:1420/active/preview").then(function(e){return e.json()}).then(function(t){return e.setState({activePreview:t})}),fetch("http://84.201.156.99:1420/future/preview").then(function(e){return e.json()}).then(function(t){return e.setState({futurePreview:t})})}},{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:this.state.activePanel},r.a.createElement(P,{id:"home",activePreview:this.state.activePreview,futurePreview:this.state.futurePreview,go:this.go,openFilm:this.openFilm,setid:this.setid}),r.a.createElement(F,{id:"popular",go:this.go}),r.a.createElement(L,{currentFilm:this.state.currentFilm,id:"film",go:this.go}))}}]),t}(r.a.Component);o.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(x,null),document.getElementById("root"))},60:function(e,t,a){e.exports=a.p+"static/media/banner-1.be3b55c6.png"},63:function(e,t,a){e.exports=a(112)}},[[63,1,2]]]);
//# sourceMappingURL=main.33121f15.chunk.js.map